{
  "schemaVersion": "2.0.0",
  "metadata": {
    "taskTitle": "Real MCP Browser Integration Test",
    "author": "CODOR Team",
    "description": "Execute real MCP browser automation via Chrome DevTools protocol"
  },
  "tasks": {
    "T006": {
      "title": "Real MCP Browser Automation",
      "testExecution": {
        "prerequisites": [
          {
            "actionId": "PREREQ.1",
            "description": "Verify MCP executor exists",
            "type": "FILE_VALIDATION",
            "parameters": {
              "filePath": "prototype/executors/mcp-browser.js",
              "validationType": "EXISTS"
            }
          },
          {
            "actionId": "PREREQ.2",
            "description": "Verify Node.js and npx available",
            "type": "TERMINAL_COMMAND",
            "parameters": {
              "command": "node --version"
            }
          }
        ],
        "steps": [
          {
            "actionId": "STEP.1",
            "description": "Initialize MCP connection",
            "type": "MCP_BROWSER_COMMAND",
            "parameters": {
              "action": "initialize"
            }
          },
          {
            "actionId": "STEP.2",
            "description": "List available MCP tools",
            "type": "MCP_BROWSER_COMMAND",
            "parameters": {
              "action": "list_tools"
            }
          },
          {
            "actionId": "STEP.3",
            "description": "Create new page and navigate to example.com",
            "type": "MCP_BROWSER_COMMAND",
            "parameters": {
              "action": "new_page",
              "url": "https://example.com"
            }
          },
          {
            "actionId": "STEP.4",
            "description": "Take page snapshot",
            "type": "MCP_BROWSER_COMMAND",
            "parameters": {
              "action": "take_snapshot"
            }
          }
        ]
      },
      "validationCriteria": {
        "successConditions": [
          {
            "condition": "PREREQ['1'].success === true && PREREQ['1'].exists === true",
            "description": "MCP executor exists"
          },
          {
            "condition": "STEP['1'].success === true && STEP['1'].initialized === true",
            "description": "MCP initialized successfully"
          },
          {
            "condition": "STEP['2'].success === true && STEP['2'].count > 0",
            "description": "MCP tools are available"
          },
          {
            "condition": "STEP['3'].success === true",
            "description": "Browser page created and navigated"
          },
          {
            "condition": "STEP['4'].success === true",
            "description": "Snapshot captured successfully"
          }
        ]
      }
    }
  },
  "globalConfiguration": {
    "workspaceRoot": "D:/Dropbox/Repositories/Python/codor",
    "evidenceDirectory": "prototype/evidence",
    "timeout": 120000
  }
}
